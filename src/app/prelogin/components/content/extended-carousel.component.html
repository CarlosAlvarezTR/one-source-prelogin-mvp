<!-- Extended carousel component -->
<section
  class="extended-carousel"
  [class.slide-3-active]="isSlide3Active"
  aria-labelledby="extended-carousel-heading"
>
  <h3 id="extended-carousel-heading" class="visually-hidden">
    ONESOURCE Product Information
  </h3>

  <div class="carousel-container">
    <ul
      class="slides-wrapper"
      [style.transform]="'translateX(-' + (currentSlide * 100) / 3 + '%)'"
    >
      <!-- Slide 1: Find product courses -->
      <li class="slide slide-1">
        <div class="slide-content">
          <div class="text-content">
            <saf-text appearance="heading-4xl" role="heading" aria-level="2">
              {{ "extendedCarousel.slide1.title" | translate }}
            </saf-text>
            <saf-divider
              orientation="horizontal"
              role="separator"
            ></saf-divider>
            <div class="description-container">
              <saf-text appearance="body-lg">
                {{ "extendedCarousel.slide1.description" | translate }}
              </saf-text>
              <div class="button-area">
                <saf-anchor
                  href="https://onesourceuniversity.thomsonreuters.com/learn/signin"
                  target="_blank"
                  rel="noopener noreferrer"
                  appearance="cta-primary"
                  [attr.tabindex]="isSlide1Active ? null : '-1'"
                  [attr.aria-label]="
                    ('extendedCarousel.slide1.buttonText' | translate) +
                    ', ' +
                    ('common.opensInNewTab' | translate)
                  "
                >
                  {{ "extendedCarousel.slide1.buttonText" | translate }}
                  <saf-icon
                    slot="end"
                    icon-name="arrow-up-right-from-square"
                    appearance="solid"
                    aria-hidden="true"
                  ></saf-icon>
                </saf-anchor>
              </div>
            </div>
          </div>
          <div class="image-content">
            <img
              src="https://www.thomsonreuters.com/en-us/posts/wp-content/uploads/sites/20/2024/08/AdobeStock_493962728_A_resize.jpg"
              alt="{{ 'extendedCarousel.slide1.imageAlt' | translate }}"
              loading="lazy"
            />
          </div>
        </div>
      </li>

      <!-- Slide 2: Browse expert-led webinars -->
      <li class="slide slide-2">
        <div class="slide-content">
          <div class="text-content">
            <saf-text appearance="heading-4xl" role="heading" aria-level="2">
              {{ "extendedCarousel.slide2.title" | translate }}
            </saf-text>
            <saf-divider
              orientation="horizontal"
              role="separator"
            ></saf-divider>
            <div class="description-container">
              <saf-text appearance="body-lg">
                {{ "extendedCarousel.slide2.description" | translate }}
              </saf-text>
              <div class="button-area">
                <saf-anchor
                  href="https://tax.thomsonreuters.com/en/insights/webinars#t=webinars&sort=%40tr_wpublishedtime%20descending&numberOfResults=12&f:@tr_worganizationtype=[Corporation]"
                  target="_blank"
                  rel="noopener noreferrer"
                  appearance="cta-primary"
                  [attr.tabindex]="isSlide2Active ? null : '-1'"
                  [attr.aria-label]="
                    ('extendedCarousel.slide2.buttonText' | translate) +
                    ', ' +
                    ('common.opensInNewTab' | translate)
                  "
                >
                  {{ "extendedCarousel.slide2.buttonText" | translate }}
                  <saf-icon
                    slot="end"
                    icon-name="arrow-up-right-from-square"
                    appearance="solid"
                    aria-hidden="true"
                  ></saf-icon>
                </saf-anchor>
              </div>
            </div>
          </div>
          <div class="image-content">
            <img
              src="https://cdn-assets-us.frontify.com/s3/frontify-enterprise-files-us/eyJwYXRoIjoidGhvbXNvbnJldXRlcnNcL2ZpbGVcL05rTWJNaWpwYVR4TXBxb3ZvRUo0LmpwZyJ9:thomsonreuters:mH8L1S7tfUHc7S-e8uUIdiacURgokCl4iqmLhPMeUpk?width=2400"
              alt="{{ 'extendedCarousel.slide2.imageAlt' | translate }}"
              loading="lazy"
            />
          </div>
        </div>
      </li>

      <!-- Slide 3: Drive accurate results with ONESOURCE -->
      <li class="slide slide-3">
        <div class="slide-content">
          <div class="text-content">
            <saf-text appearance="heading-4xl" role="heading" aria-level="2">
              {{ "extendedCarousel.slide3.title" | translate }}
            </saf-text>
            <saf-divider
              orientation="horizontal"
              role="separator"
            ></saf-divider>
            <div class="description-container">
              <saf-text appearance="body-lg">
                {{ "extendedCarousel.slide3.description" | translate }}
              </saf-text>
              <div class="button-area">
                <saf-anchor
                  href="https://tax.thomsonreuters.com/en/onesource"
                  target="_blank"
                  rel="noopener noreferrer"
                  appearance="cta-primary"
                  [attr.tabindex]="isSlide3Active ? null : '-1'"
                  [attr.aria-label]="
                    ('extendedCarousel.slide3.buttonText' | translate) +
                    ', ' +
                    ('common.opensInNewTab' | translate)
                  "
                >
                  {{ "extendedCarousel.slide3.buttonText" | translate }}
                  <saf-icon
                    slot="end"
                    icon-name="arrow-up-right-from-square"
                    appearance="solid"
                    aria-hidden="true"
                  ></saf-icon>
                </saf-anchor>
              </div>
            </div>
          </div>
          <div class="products-content">
            <div class="product-links-list">
              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/indirect-tax"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.indirectTax' | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="receipt"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{ "extendedCarousel.slide3.products.indirectTax" | translate }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/direct-tax"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.directTax' | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="coins"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{ "extendedCarousel.slide3.products.directTax" | translate }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/global-trade-management"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.globalTradeManagement'
                    | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="globe"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{
                  "extendedCarousel.slide3.products.globalTradeManagement"
                    | translate
                }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/statutory"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.statutoryReporting'
                    | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="calendar"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{
                  "extendedCarousel.slide3.products.statutoryReporting"
                    | translate
                }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/information-reporting-aca-compliance"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.informationReporting'
                    | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="file-certificate"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{
                  "extendedCarousel.slide3.products.informationReporting"
                    | translate
                }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/trust-tax"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.trustTax' | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="shield"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{ "extendedCarousel.slide3.products.trustTax" | translate }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/tax-data-and-process-management"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.taxDataManagement'
                    | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="pen-ruler"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{
                  "extendedCarousel.slide3.products.taxDataManagement"
                    | translate
                }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/ai-assisted-regulatory-research"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.aiAssistedResearch'
                    | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="sparkles"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{
                  "extendedCarousel.slide3.products.aiAssistedResearch"
                    | translate
                }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>

              <saf-anchor
                href="https://tax.thomsonreuters.com/en/onesource/partnerships-and-alliances"
                target="_blank"
                rel="noopener noreferrer"
                appearance="cta-secondary"
                class="product-link"
                [attr.tabindex]="isSlide3Active ? null : '-1'"
                [attr.aria-label]="
                  ('extendedCarousel.slide3.products.partnershipsAlliances'
                    | translate) +
                  ', ' +
                  ('common.opensInNewTab' | translate)
                "
              >
                <saf-icon
                  slot="start"
                  icon-name="handshake"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
                {{
                  "extendedCarousel.slide3.products.partnershipsAlliances"
                    | translate
                }}
                <saf-icon
                  slot="end"
                  icon-name="arrow-up-right-from-square"
                  appearance="light"
                  aria-hidden="true"
                ></saf-icon>
              </saf-anchor>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>

  <div
    class="live-region visually-hidden"
    aria-live="polite"
    aria-atomic="true"
  >
    {{ slideIndicatorText }}
  </div>

  <!-- Carousel controls -->
  <nav class="carousel-controls" aria-label="Carousel pagination">
    <saf-button
      icon-only
      appearance="secondary"
      density="standard"
      class="btn-prev"
      a11y-aria-label="Previous slide"
      (click)="previousSlide()"
      [disabled]="currentSlide === 0"
    >
      <saf-icon
        icon-name="chevron-left"
        appearance="solid"
        aria-hidden="true"
      ></saf-icon>
    </saf-button>

    <div class="slide-indicator">
      <saf-text appearance="body-md">{{ slideIndicatorText }}</saf-text>
    </div>

    <saf-button
      icon-only
      appearance="secondary"
      density="standard"
      class="btn-next"
      a11y-aria-label="Next slide"
      (click)="nextSlide()"
      [disabled]="currentSlide === totalSlides - 1"
    >
      <saf-icon
        icon-name="chevron-right"
        appearance="solid"
        aria-hidden="true"
      ></saf-icon>
    </saf-button>
  </nav>
</section>
